{"version":3,"file":"static/js/311.21342a84.chunk.js","mappings":"kLACA,EAA6B,+B,SCW7B,EARmB,SAAC,GAA0B,IAAD,EAAvBA,EAAuB,EAAvBA,iBACpB,OACE,SAAC,KAAD,CAAMC,UAAWC,EAAgBC,GAAE,iBAAEH,QAAF,IAAEA,OAAF,EAAEA,EAAkBI,eAApB,QAA+B,IAAlE,UACE,mBAAQC,KAAK,SAAb,mBAGL,C,8ICTD,GAAgB,QAAU,8BAA8B,QAAU,8BAA8B,MAAQ,4BAA4B,OAAS,6BAA6B,OAAS,8B,kBC6FnL,EAxFsB,WAAO,IAAD,MAClBC,GAAYC,EAAAA,EAAAA,MAAZD,QACFE,GAAWC,EAAAA,EAAAA,MACjB,GAAwCC,EAAAA,EAAAA,UAAS,MAAjD,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAAwBF,EAAAA,EAAAA,UAAS,IAAjC,eAAOG,EAAP,KAAYC,EAAZ,KAEMd,GAAmBe,EAAAA,EAAAA,QAAM,oBAACP,EAASQ,aAAV,aAAC,EAAgBC,YAAjB,QAAyB,WAGlDC,EAAa,SAAAC,GAEjB,MAAO,CAAEC,GAD0DD,EAA3DC,GACKC,MADsDF,EAAvDE,MACQC,SAD+CH,EAAhDG,SACWC,aADqCJ,EAAtCI,aACeC,YADuBL,EAAxBK,YACcC,OADUN,EAAXM,OAEzD,EAiBD,OAfAC,EAAAA,EAAAA,YAAU,YACR,iBAAC,kHAE0BC,EAAAA,EAAAA,IAAc,GAAD,OAAIrB,IAF3C,gBAEWa,EAFX,EAEWA,KACRP,EAAgBM,EAAWC,IAH9B,gDAMaS,EANb,KAKGC,SACEV,KAAQS,eAGVd,EAASc,GATZ,wDAAD,EAYD,GAAE,CAACtB,KAGF,iCACE,SAACwB,EAAA,EAAD,CAAY9B,iBAAkBA,IAE7BW,IACC,iBAAKV,UAAWC,EAAAA,QAAhB,WACE,gBAAKD,UAAWC,EAAAA,cAAhB,SACGS,EAAaa,aACZ,gBACEO,IAAG,UA/BI,6BA+BJ,iBAA0BpB,EAAaa,aAC1CQ,IAAG,UAAKrB,EAAaU,UAGvB,gBACEU,IAAI,6EACJC,IAAI,SACJC,MAAO,SAIb,iBAAKhC,UAAWC,EAAAA,QAAhB,WACE,eAAID,UAAWC,EAAAA,MAAf,SAA2BS,EAAaU,SACxC,uCAEGV,EAAaY,aAAb,UACMW,KAAKC,KAAiC,GAA5BxB,EAAaY,cAD7B,KAEG,iBAGN,sCACA,uBAAIZ,EAAaW,YACjB,oCACA,eAAIrB,UAAWC,EAAAA,OAAf,SACGS,EAAac,OAAOW,KAAI,gBAAGhB,EAAH,EAAGA,GAAIiB,EAAP,EAAOA,KAAP,OACvB,wBAAcA,GAALjB,EADc,YAQhCT,IACC,iBAAKV,UAAWC,EAAAA,OAAhB,WACE,SAAC,KAAD,CAASC,GAAG,OAAZ,mBACA,SAAC,KAAD,CAASA,GAAG,UAAZ,wBA3CN,oBA+CMU,UA/CN,QA+Ce,IAEb,0BACE,SAAC,EAAAyB,SAAD,CAAUC,UAAU,wCAApB,UACE,SAAC,KAAD,UAKT,C,oKCxFDC,EAAAA,EAAAA,SAAAA,QAAyB,gCACzBA,EAAAA,EAAAA,SAAAA,QAAAA,OAAAA,cAFE,6NAIK,IAAMC,EAAc,WACzB,OAAOD,EAAAA,EAAAA,IAAA,qBACR,EAEYE,EAAqB,SAAAL,GAChC,OAAOG,EAAAA,EAAAA,IAAA,6BAAgCH,EAAhC,WACR,EAEYV,EAAgB,SAAArB,GAC3B,OAAOkC,EAAAA,EAAAA,IAAA,gBAAmBlC,GAC3B,EAEYqC,EAAuB,SAAArC,GAClC,OAAOkC,EAAAA,EAAAA,IAAA,gBAAmBlC,EAAnB,YACR,EAEYsC,EAAuB,SAAAtC,GAClC,OAAOkC,EAAAA,EAAAA,IAAA,gBAAmBlC,EAAnB,YACR,C","sources":["webpack://goit-react-hw-05-movies/./src/components/BackButton/BackButton.module.css?d3a5","components/BackButton/BackButton.jsx","webpack://goit-react-hw-05-movies/./src/pages/MovieDetails/MovieDatails.module.css?d396","pages/MovieDetails/MovieDetails.jsx","services/themoviedb-api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"linkButton\":\"BackButton_linkButton__Mare1\"};","import { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport css from './BackButton.module.css';\n\nconst BackButton = ({ backLinkLocation }) => {\n  return (\n    <Link className={css.linkButton} to={backLinkLocation?.current ?? '/'}>\n      <button type=\"button\">Back</button>\n    </Link>\n  );\n};\n\nexport default BackButton;\n\nBackButton.propTypes = {\n  backLinkLocation: PropTypes.shape({\n    current: PropTypes.any,\n  }),\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"MovieDatails_wrapper__6f+JM\",\"details\":\"MovieDatails_details__ZZVKt\",\"title\":\"MovieDatails_title__-duCy\",\"genres\":\"MovieDatails_genres__iNjUG\",\"subNav\":\"MovieDatails_subNav__YTxOV\"};","import { Suspense, useEffect, useRef, useState } from 'react';\nimport { NavLink, Outlet, useLocation, useParams } from 'react-router-dom';\nimport { getMoviesById } from 'services/themoviedb-api';\nimport css from './MovieDatails.module.css';\nimport BackButton from 'components/BackButton/BackButton';\n\nconst MoviesDetails = () => {\n  const { movieId } = useParams();\n  const location = useLocation();\n  const [movieDatails, setMovieDatails] = useState(null);\n  const [err, setError] = useState('');\n\n  const backLinkLocation = useRef(location.state?.from ?? '/movies');\n  const baseImageUrl = 'https://image.tmdb.org/t/p';\n\n  const formatData = data => {\n    const { id, title, overview, vote_average, poster_path, genres } = data;\n    return { id, title, overview, vote_average, poster_path, genres };\n  };\n\n  useEffect(() => {\n    (async function () {\n      try {\n        const { data } = await getMoviesById(`${movieId}`);\n        setMovieDatails(formatData(data));\n      } catch ({\n        response: {\n          data: { status_message },\n        },\n      }) {\n        setError(status_message);\n      }\n    })();\n  }, [movieId]);\n\n  return (\n    <>\n      <BackButton backLinkLocation={backLinkLocation} />\n\n      {movieDatails && (\n        <div className={css.wrapper}>\n          <div className={css.posterWrapper}>\n            {movieDatails.poster_path ? (\n              <img\n                src={`${baseImageUrl}/w300/${movieDatails.poster_path}`}\n                alt={`${movieDatails.title}`}\n              />\n            ) : (\n              <img\n                src=\"https://motivatevalmorgan.com/wp-content/uploads/2016/06/default-movie.jpg\"\n                alt=\"poster\"\n                width={300}\n              />\n            )}\n          </div>\n          <div className={css.details}>\n            <h1 className={css.title}>{movieDatails.title}</h1>\n            <p>\n              User Score:\n              {movieDatails.vote_average\n                ? `${Math.ceil(movieDatails.vote_average * 10)}%`\n                : ' not found'}\n            </p>\n\n            <h2>Overview</h2>\n            <p>{movieDatails.overview}</p>\n            <h2>Genres</h2>\n            <ul className={css.genres}>\n              {movieDatails.genres.map(({ id, name }) => (\n                <li key={id}>{name}</li>\n              ))}\n            </ul>\n          </div>\n        </div>\n      )}\n\n      {movieDatails && (\n        <nav className={css.subNav}>\n          <NavLink to=\"cast\">Cast</NavLink>\n          <NavLink to=\"reviews\">Reviews</NavLink>\n        </nav>\n      )}\n\n      {`${err}` ?? ''}\n\n      <div>\n        <Suspense fallback={<div>Loading...</div>}>\n          <Outlet />\n        </Suspense>\n      </div>\n    </>\n  );\n};\n\nexport default MoviesDetails;\n","import axios from 'axios';\n\nconst API_KEY =\n  'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiNDY0YTRkMWY2YWM1YzQ2YmI1YWE4MzI5ZTYwNjE3YiIsInN1YiI6IjY0ZTM1NGI5ZDdjZDA2MDExZjM4ZjdjMyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.wbq1kfMBlGDMka7umUudFpe9xsh9J4H853rEikvtFzw';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\naxios.defaults.headers.common['Authorization'] = API_KEY;\n\nexport const getTrending = () => {\n  return axios.get(`trending/movie/day`);\n};\n\nexport const getMoviesFromQuery = name => {\n  return axios.get(`search/movie?query=${name}&page=1`);\n};\n\nexport const getMoviesById = movieId => {\n  return axios.get(`movie/${movieId}`);\n};\n\nexport const getMoviesCreditsById = movieId => {\n  return axios.get(`movie/${movieId}/credits`);\n};\n\nexport const getMoviesReviewsById = movieId => {\n  return axios.get(`movie/${movieId}/reviews`);\n};\n"],"names":["backLinkLocation","className","css","to","current","type","movieId","useParams","location","useLocation","useState","movieDatails","setMovieDatails","err","setError","useRef","state","from","formatData","data","id","title","overview","vote_average","poster_path","genres","useEffect","getMoviesById","status_message","response","BackButton","src","alt","width","Math","ceil","map","name","Suspense","fallback","axios","getTrending","getMoviesFromQuery","getMoviesCreditsById","getMoviesReviewsById"],"sourceRoot":""}